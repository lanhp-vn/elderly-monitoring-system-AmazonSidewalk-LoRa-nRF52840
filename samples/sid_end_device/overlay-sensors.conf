#
# Copyright (c) 2024 Nordic Semiconductor ASA
#
# SPDX-License-Identifier: LicenseRef-Nordic-5-Clause
#
# Sensors variant overlay configuration
# Health monitoring system with GPS, IMU, and heart rate sensors
#

# Select sensors variant
CONFIG_SID_END_DEVICE_SENSOR_MONITORING=y

# Enable SubGHz support for LoRa
CONFIG_SIDEWALK_SUBGHZ_SUPPORT=y

# I2C for MPU6050 and SEN0344 sensors
CONFIG_I2C=y

# Sensor driver for MPU6050
CONFIG_SENSOR=y

# Floating point support for fall detection calculations
CONFIG_FPU=y
CONFIG_NEWLIB_LIBC=y

# Increase sidewalk thread stack for sensor operations
CONFIG_SIDEWALK_THREAD_STACK_SIZE=10240

# Enable GPIO for buttons
CONFIG_GPIO=y
CONFIG_DK_LIBRARY=y

# Heap for message allocation
CONFIG_HEAP_MEM_POOL_SIZE=8192

# System workqueue size for sensor work items
CONFIG_SYSTEM_WORKQUEUE_STACK_SIZE=2048

# Logging
CONFIG_LOG=y
CONFIG_LOG_BUFFER_SIZE=4096

# Auto-start Sidewalk
CONFIG_SID_END_DEVICE_AUTO_START=y
CONFIG_SID_END_DEVICE_AUTO_CONN_REQ=y

# Sensor variant specific settings
CONFIG_SENSORS_DEVICE_ID=1
CONFIG_SENSORS_REGULAR_INTERVAL_MS=20000
CONFIG_SENSORS_AUTO_LORA_SWITCH=y
CONFIG_SENSORS_CRITICAL_BUFFER_SIZE=10
CONFIG_SENSORS_SPO2_THRESHOLD=90
CONFIG_SENSORS_BPM_LOW_THRESHOLD=40
CONFIG_SENSORS_BPM_HIGH_THRESHOLD=180

# Disable simulated GPS to use real NEO-6M hardware
CONFIG_SENSORS_ENABLE_SIMULATED_GPS=n
